<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="ico">
    <title>Sistema de Gestão - Resíduos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-64 bg-gray-800 text-gray-300 flex flex-col transition-all duration-300 shadow-lg print:hidden">
            <div id="logo-container" class="flex items-center justify-center border-b border-gray-700 p-4">
            </div>
            <nav class="flex-1 px-4 py-6 space-y-2">
                <a href="#" id="nav-dashboard" class="sidebar-link flex items-center px-4 py-3 rounded-lg transition-all duration-200 active">
                    <i class="fas fa-chart-line w-6 text-center text-lg" aria-hidden="true"></i><span class="ml-4 font-medium">Dashboard</span>
                </a>
                <a href="#" id="nav-produtos" class="sidebar-link flex items-center px-4 py-3 rounded-lg transition-all duration-200">
                    <i class="fas fa-box-open w-6 text-center text-lg" aria-hidden="true"></i><span class="ml-4 font-medium">Produtos</span>
                </a>
                <a href="#" id="nav-vendas" class="sidebar-link flex items-center mt-2 px-4 py-3 rounded-lg transition-all duration-200">
                    <i class="fas fa-shopping-cart w-6 text-center text-lg" aria-hidden="true"></i><span class="ml-4 font-medium">Vendas</span>
                </a>
                <a href="#" id="nav-licitacoes" class="sidebar-link flex items-center mt-2 px-4 py-3 rounded-lg transition-all duration-200">
                    <i class="fas fa-gavel w-6 text-center text-lg" aria-hidden="true"></i><span class="ml-4 font-medium">Licitações</span>
                </a>
            </nav>
            <div class="p-4 border-t border-gray-700">
                <p id="sidebar-footer-text" class="text-sm text-gray-500 text-center">&copy; 2025 Pronto Somar</p>
            </div>
        </aside>

        <!-- Main Content -->
        <div id="main-content-wrapper" class="flex-1 flex flex-col overflow-hidden">
             <header class="glassmorphism p-4 flex justify-between items-center print:hidden">
                <button id="menu-toggle-btn" class="text-gray-600 hover:text-green-500 focus:outline-none transition-colors" title="Abrir/Fechar menu lateral" aria-label="Abrir/Fechar menu lateral">
                    <i class="fas fa-bars text-2xl" aria-hidden="true"></i>
                </button>
                <h2 id="page-title" class="text-xl font-semibold text-gray-700">Dashboard</h2>
                <div class="w-10"></div> <!-- Espaçador -->
             </header>

            <main id="main-content" class="flex-1 p-6 md:p-8 overflow-y-auto">
                <!-- Seção Dashboard -->
                <section id="section-dashboard">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8">
                        <div class="dashboard-card animate-fadeInUp delay-0"><div class="icon-container bg-blue-100 text-blue-500 p-4 rounded-full mr-4"><i class="fas fa-box-open text-2xl" aria-hidden="true"></i></div><div><p class="text-sm dashboard-card-text">Total de Produtos</p><p id="metric-total-produtos" class="text-2xl font-bold">0</p></div></div>
                        <div class="dashboard-card animate-fadeInUp delay-100"><div class="icon-container bg-green-100 text-green-500 p-4 rounded-full mr-4"><i class="fas fa-dollar-sign text-2xl" aria-hidden="true"></i></div><div><p class="text-sm dashboard-card-text">Valor em Estoque</p><p id="metric-valor-estoque" class="text-2xl font-bold">R$ 0,00</p></div></div>
                        <div class="dashboard-card animate-fadeInUp delay-200"><div class="icon-container bg-yellow-100 text-yellow-500 p-4 rounded-full mr-4"><i class="fas fa-shopping-cart text-2xl" aria-hidden="true"></i></div><div><p class="text-sm dashboard-card-text">Total de Vendas</p><p id="metric-total-vendas" class="text-2xl font-bold">0</p></div></div>
                        <div class="dashboard-card animate-fadeInUp delay-300"><div class="icon-container bg-indigo-100 text-indigo-500 p-4 rounded-full mr-4"><i class="fas fa-chart-bar text-2xl" aria-hidden="true"></i></div><div><p class="text-sm dashboard-card-text">Receita Total</p><p id="metric-receita-total" class="text-2xl font-bold">R$ 0,00</p></div></div>
                        <div class="dashboard-card animate-fadeInUp delay-400"><div class="icon-container bg-red-100 text-red-500 p-4 rounded-full mr-4"><i class="fas fa-gavel text-2xl" aria-hidden="true"></i></div><div><p class="text-sm dashboard-card-text">Licitações Ativas</p><p id="metric-licitacoes-ativas" class="text-2xl font-bold">0</p></div></div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-lg font-semibold mb-4">Vendas por Mês</h3>
                            <canvas id="chart-vendas" width="400" height="200"></canvas>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-lg font-semibold mb-4">Produtos por Categoria</h3>
                            <canvas id="chart-categorias" width="400" height="200"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md mt-6">
                        <h3 class="text-lg font-semibold mb-4">Vendas Recentes</h3>
                        <table id="table-recent-sales" class="w-full table-auto">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Produto</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Seção Produtos -->
                <section id="section-produtos" class="hidden">
                    <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <input type="text" id="search-produtos" placeholder="Buscar por nome..." class="pl-10 pr-4 py-2 border rounded-lg w-full">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" aria-hidden="true"></i>
                            </div>
                            <select id="filter-categoria-produtos" class="border rounded-lg py-2" title="Filtrar por categoria" aria-label="Filtrar por categoria">
                                <option value="">Todas as categorias</option>
                                <option>Lixeiras</option>
                                <option>Suportes</option>
                                <option>Sacos de Lixo</option>
                                <option>Outros</option>
                            </select>
                        </div>
                        <button onclick="openModal('modal-produtos')" class="bg-green-500 text-white font-bold py-2 px-5 rounded-lg shadow-md hover:bg-green-600 transition-all duration-300 flex items-center transform hover:scale-105"><i class="fas fa-plus mr-2" aria-hidden="true"></i> Adicionar Produto</button>
                    </div>
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <table id="table-produtos" class="w-full table-auto">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categoria</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Preço</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estoque</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Seção Vendas -->
                <section id="section-vendas" class="hidden">
                     <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <input type="text" id="search-vendas" placeholder="Buscar por cliente..." class="pl-10 pr-4 py-2 border rounded-lg w-full">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" aria-hidden="true"></i>
                            </div>
                            <div>
                                <label for="filter-month-vendas" class="sr-only">Filtrar por mês</label>
                                <input type="text" id="filter-month-vendas" name="filter_month_vendas" class="border rounded-lg py-2"
                                    title="Filtrar por mês (MM/AAAA)" placeholder="MM/AAAA" pattern="(0[1-9]|1[0-2])\/20[0-9]{2}" maxlength="7"
                                    inputmode="numeric" aria-label="Filtrar por mês">
                            </div>
                        </div>
                        <button onclick="openModal('modal-vendas')" class="bg-green-500 text-white font-bold py-2 px-5 rounded-lg shadow-md hover:bg-green-600 transition-all duration-300 flex items-center transform hover:scale-105"><i class="fas fa-plus mr-2" aria-hidden="true"></i> Registrar Venda</button>
                    </div>
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <table id="table-vendas" class="w-full table-auto">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Produto</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quantidade</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Total</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Seção Licitações -->
                <section id="section-licitacoes" class="hidden">
                    <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <input type="text" id="search-licitacoes" placeholder="Buscar por órgão..." class="pl-10 pr-4 py-2 border rounded-lg w-full">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" aria-hidden="true"></i>
                            </div>
                            <select id="filter-status-licitacoes" class="border rounded-lg py-2" title="Filtrar por status" aria-label="Filtrar por status">
                                <option value="">Todos os status</option>
                                <option>Ganha</option>
                                <option>Perdida</option>
                                <option>Em Análise</option>
                                <option>Em Aberto</option>
                            </select>
                        </div>
                        <button onclick="openModal('modal-licitacoes')" class="bg-green-500 text-white font-bold py-2 px-5 rounded-lg shadow-md hover:bg-green-600 transition-all duration-300 flex items-center transform hover:scale-105"><i class="fas fa-plus mr-2" aria-hidden="true"></i> Adicionar Licitação</button>
                    </div>
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <table id="table-licitacoes" class="w-full table-auto">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Número</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Órgão Público</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Estimado</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data Abertura</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <div id="modal-produtos" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden opacity-0"><div class="modal-content bg-white w-full max-w-lg p-8 rounded-xl shadow-2xl transform scale-95 opacity-0"><h3 class="text-2xl font-bold mb-6 text-gray-800 flex items-center"><i class="fas fa-box-open text-green-500 mr-3" aria-hidden="true"></i>Cadastrar Produto</h3><form id="form-produto" class="space-y-4"><input type="hidden" name="id"><div><label class="block text-sm font-medium text-gray-700">Nome do Produto</label><input type="text" name="nome" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required></div><div><label class="block text-sm font-medium text-gray-700">Categoria</label><select name="categoria" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"><option>Lixeiras</option><option>Suportes</option><option>Sacos de Lixo</option><option>Outros</option></select></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700">Preço (R$)</label><input type="number" step="0.01" name="preco" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required></div><div><label class="block text-sm font-medium text-gray-700">Estoque</label><input type="number" name="estoque" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required></div></div><div class="flex justify-end pt-6 space-x-3"><button type="button" onclick="closeModal('modal-produtos')" class="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">Cancelar</button><button type="button" onclick="clearForm('form-produto')" class="bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors">Limpar</button><button type="submit" class="bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors">Salvar</button></div></form></div></div>

    <div id="modal-vendas" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden opacity-0"><div class="modal-content bg-white w-full max-w-lg p-8 rounded-xl shadow-2xl transform scale-95 opacity-0"><h3 class="text-2xl font-bold mb-6 text-gray-800 flex items-center"><i class="fas fa-shopping-cart text-green-500 mr-3" aria-hidden="true"></i>Registrar Venda</h3><form id="form-venda" class="space-y-4"><input type="hidden" name="id"><div><label class="block text-sm font-medium text-gray-700">Cliente</label><input type="text" name="cliente" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required><div id="error-cliente" class="error-message" style="display: none;"></div></div><div><label class="block text-sm font-medium text-gray-700">Produto</label><select name="id_produto" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required><div id="error-id_produto" class="error-message" style="display: none;"></div></select></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700">Quantidade</label><input type="number" name="quantidade" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required min="1"><div id="error-quantidade" class="error-message" style="display: none;"></div></div><div><label class="block text-sm font-medium text-gray-700">Data da Venda</label><input type="date" name="data" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500" required><div id="error-data" class="error-message" style="display: none;"></div></div></div><div class="flex justify-end pt-6 space-x-3"><button type="button" onclick="closeModal('modal-vendas')" class="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">Cancelar</button><button type="button" onclick="clearForm('form-venda')" class="bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors">Limpar</button><button type="submit" class="bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors">Salvar</button></div></form></div></div>

    <div id="modal-licitacoes" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden opacity-0">
        <div class="modal-content bg-white w-full max-w-lg p-8 rounded-xl shadow-2xl transform scale-95 opacity-0">
            <h3 class="text-2xl font-bold mb-6 text-gray-800 flex items-center">
                <i class="fas fa-gavel text-green-500 mr-3" aria-hidden="true"></i>Adicionar Licitação
            </h3>
            <form id="form-licitacao" class="space-y-4">
                <input type="hidden" name="id">
                <div>
                    <input type="text" name="numero_licitacao" id="numero_licitacao"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"
                        required title="Digite o número da licitação" placeholder="Ex: 12345/2024">
                    <div id="error-numero_licitacao" class="error-message hidden"></div>
                </div>
                </div>
                <div>
                    <input type="text" name="orgao_publico" id="orgao_publico"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"
                        required title="Digite o nome do órgão público" placeholder="Ex: Prefeitura Municipal">
                    <div id="error-orgao_publico" class="error-message hidden"></div>
                </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <input type="number" step="0.01" name="valor_estimado" id="valor_estimado"
                            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"
                            required title="Digite o valor estimado" placeholder="Ex: 10000.00">
                        <div id="error-valor_estimado" class="error-message hidden"></div>
                    </div>
                    </div>
                    <div>
                        <input type="date" name="data_abertura" id="data_abertura"
                            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"
                            required title="Selecione a data de abertura" placeholder="Selecione a data">
                        <div id="error-data_abertura" class="error-message                    </div>
                </div>
                <div>
                    <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
                    <select name="status" id="status"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500"
                        title="Selecione o status da licitação" aria-label="Status da licitação">
                        <option>Ganha</option>
                        <option>Perdida</option>
                        <option>Em Análise</option>
                        <option>Em Aberto</option>
                    </select>
                </div>
                <div class="flex justify-end pt-6 space-x-3">
                    <button type="button" onclick="closeModal('modal-licitacoes')" class="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">Cancelar</button>
                    <button type="button" onclick="clearForm('form-licitacao')" class="bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors">Limpar</button>
                    <button type="submit" class="bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
